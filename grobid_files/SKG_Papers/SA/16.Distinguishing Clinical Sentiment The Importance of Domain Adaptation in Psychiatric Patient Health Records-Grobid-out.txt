title
Distinguishing Clinical Sentiment: The Importance of Domain Adaptation in Psychiatric Patient Health Records

abstract
Recently natural language processing (NLP) tools have been developed to identify and extract salient risk indicators in electronic health records (EHRs). Sentiment analysis, although widely used in non-medical areas for improving decision making, has been studied minimally in the clinical setting. In this study, we undertook, to our knowledge, the first domain adaptation of sentiment analysis to psychiatric EHRs by defining psychiatric clinical sentiment, performing an annotation project, and evaluating multiple sentence-level sentiment machine learning (ML) models. Results indicate that off-the-shelf sentiment analysis tools fail in identifying clinically positive or negative polarity, and that the definition of clinical sentiment that we provide is learnable with relatively small amounts of training data. This project is an initial step towards further refining sentiment analysis methods for clinical use. Our long-term objective is to incorporate the results of this project as part of a machine learning model that predicts inpatient readmission risk. We hope that this work will initiate a discussion concerning domain adaptation of sentiment analysis to the clinical setting.

Introduction Psychotic disorders typically emerge in late adolescence or early adulthood  (Kessler et al., 2007; Thomsen, 1996)  and affect approximately 2.5-4% of the population  (Per?l? et al., 2007; Bogren et al., 2009) , making them one of the leading causes of disability worldwide  (Vos et al., 2015) . A substantial proportion of psychiatric inpatients are readmitted after discharge  (Wiersma et al., 1998) . Readmissions are disruptive for both patients and families, and are a key driver of rising healthcare costs  (Mangalore and Knapp, 2007; Wu et al., 2005) . Reducing readmission risk is therefore a major unmet need of psychiatric care. Developing clinically implementable ML tools to enable accurate assessment of readmission risk factors offers opportunities to inform the selection of treatment interventions and to subsequently implement appropriate preventive measures. Sentiment analysis (also known as opinion mining) has been used for capturing the subjective "feeling" (e.g. positive, negative, or neutral valence) of reviews and has recently been expanded to include other domains such as reactions to stock market prediction or political trends  (M?ntyl? et al., 2018) . With the rise of social media and other user-generated web content, sentiment analysis has been adopted by many industries as a way of monitoring opinions towards their products, reputations, and for identifying opportunities for improvement. Traditionally, sentiment analysis has been approached with a lexicon-based majority vote approach, where a dictionary of terms and their associated sentiments (e.g. SentiWordnet, Pattern, SO-CAL, VADER) are queried to determine the sentiment of a given text  (Taboada et al., 2011) . However, this approach fails to account for many associated linguistic challenges such as negation handling, scope, sarcasm, qualified statements, and out-of-vocabulary terms. As such, research groups have moved towards approaching the problem from a corpus-based machine learning perspective. This approach has the added benefit of model flexibility depending on the training data and can capture more syntactic nuance. Most state-of-the-art performances on sentiment analysis benchmarks are currently achieved with deep learning sequence models that are trained on syntactically parsed corpora such as the Stanford Sentiment Treebank  (Socher et al., 2013) . In clinical and medical domains, however, sentiment analysis has not yet been well studied. Yet retrieving subjective clinical attitudes (sentiment) from EHR narratives has the potential to facili-tate identification of a patient's symptomatological worsening or increased readmission risk. The concept of medical sentiment is complex and vocabularies differ from general-domain sentiment. In the field of psychiatry, this is especially true. Therefore, there is a need for domain adaptation of sentiment analysis that includes a richer array of attributes than can typically be found in off-the-shelf tools. In this work, we established an annotation scheme to characterize sentimentrelated features in EHRs, and used this to carry out, to our knowledge, the first psychiatry-specific sentiment annotation project on EHRs. The resulting datasets are used to train and evaluate a classifier to predict clinical sentiment at the sentence level. This classifier, which in future works will be integrated in a pipeline for predicting readmission risk, is clinically useful for targeting treatments and aiding in decision making. 

 Related Works Although there has been some work on clinical adaptation of sentiment analysis using healthcarerelated data extracted from web forums, biomedical texts, or social media postings (See for example  (Smith and Lee, 2012; Niu et al., 2005; Salas-Z?rate et al., 2017; Nguyen et al., 2014) ), there has been minimal work on sentiment analysis when applied to actual EHR data.  McCoy et al. (2015)  used a corpus of psychosis patient discharge summaries and the 3,000 word Pattern lexical opinion mining dictionary (Smedt and Daelemans, 2012) to classify the associated sentiment of documents using a majority vote classifier. Results of their Cox regression models showed that greater positive sentiment was associated with a reduction in inpatient readmission risk. Waudby-  Smith et al. (2018)  applied the same Pattern sentiment lexicon to a corpus of ICU nursing notes to predict 30-day mortality risk. They found that stronger negative sentiment polarity was associated with an increased 30-day mortality risk. One of the limitations in both studies is that Pattern is a general-domain sentiment lexicon that contains few informative medical or psychiatryspecific terminology. Also, the authors did not manually annotate the datasets they worked with. As a result, they were not able to confirm that the predicted sentiment aligned with the sentiment from a clinical perspective.  (Deng et al., 2014)  and  (Denecke and Deng, 2015)  systematically compared word usage and sentiment distribution between clinical narratives (nurse letters, discharge summary, and radiology reports) and medical social media (MedBlog, drug reviews). They concluded that off-the-shelf sentiment tools were not ideal for analyzing sentiment in medical documents and that EHRs were significantly more difficult in predicting sentiment, in particular neutral sentiment (Neutral F1=0.216 and 0.080 for nurse letters and radiology reports, respectively). They developed annotation guidelines and undertook a span-level annotation task on 300 ICU nurse letters to identify words related to clinical sentiment  (Deng et al., 2016) . Results of applying ML algorithms to these data are not available yet. 

 Methods In this work, we define psychiatric clinical sentiment as a clinician's attitudes (positive, negative, or neutral) towards a patient's prognosis with regards to seven readmission risk factor domains (appearance, mood, interpersonal relations, substance use, thought content, thought process, and occupation) that were identified in prior work  (Holderness et al., 2018) . The scope of our current definition is intentionally narrow such that the sentiment of a given sentence is considered in isolation without any prior knowledge. Three clinicians participated in an annotation project that focused on identifying the clinical sentiment associated with psychiatric EHR texts at the sentence level. In total, two corpora of clinical narratives from institutional EHRs, one containing 3,500 sentences (training dataset) and the other 1,650 (test dataset) were annotated using the definition established in the annotation scheme. The training dataset consisted exclusively of sentence-length sequences that involved only one risk factor domain in each example. The examples in the dataset were identified from a large corpus of unannotated psychosis patient EHR data sourced from the psychiatric units of several Boston-area hospitals in the Partners HealthCare network, including Massachusetts General Hospital and Brigham & Women's Hospital. We used our risk factor domain topic extraction model to automatically identify relevant sentences, which were then manually validated by one of the clinicians involved in this project to ensure they did not involve multiple domains in the same exam- Mood is largely euthymic although he stated he gets depressed occasionally. Tearful, presented very depressed with sad affect. Interpersonal Continues to be happy in her relationship with her boyfriend and school friends are stable as well. She voiced no complaints about her primary relationship or other social relationships. Poor social supports, abusive relationship. 

 Substance Use Denies substance use or alcohol other than an occasional glass of wine. Remote history of cocaine (smoked), marijuana and mescaline use many years ago. He reports daily k2 use in addition to using crack cocaine about once a week. 

 Occupation Pt reports having taken further steps toward employment -applied for two jobs and has interview lined up for Saturday. Discusses new job as part time substitute teacher. Recently has a new job that she hates and took a paycut. 

 Thought Content She never had auditory hallucinations or delusions of thought broadcasting and thought insertion. No overt hallucinations or delusions but expansive thinking. Delusions and hallucinations continue. 

 Thought Process Stable, slow speech with fewer word finding difficulties today, linear thought process, cooperative,attentive. Slightly pressured speech but not as bad as some past visits. Speech spontaneous and decreased in volume, rate, and rhythm; hard to understand at times because she barely opens her mouth when she talks. positive sense. We evaluated three classification models. Our baseline model is a majority vote approach using the Pattern sentiment lexicon employed by  Mc-Coy (2015)  and  Waudby-Smith (2018) . The second and third models use fully supervised and semi-supervised multilayer perceptron (MLP) architectures, respectively. Since positive and negative clinical sentiment can differ across each domain, we train a suite of seven models, one for each risk factor domain. The training and test data were vectorized at the sentence level using the pretrained Universal Sentence Encoder (USE) embedding module  (Cer et al., 2018)  that is available through TensorFlow Hub and is designed specifically for transfer learning tasks. Although USE is trained on a large volume of web-based, generaldomain data, we have found in prior work that the embeddings lead to higher accuracy on down- stream classification tasks than embedding models (e.g. ELMo, Doc2Vec, FastText) trained on smaller volumes of EHR data  (Holderness et al., 2019) . Hyperparameters were tuned using grid search with 5-fold cross-validation on the training dataset and are specified in Table  4 . Due to the relatively small amount of labeled training data, our proposed model architecture is designed to prevent overfitting by using a restricted view of the training data via a high rate of dropout in the hidden layers. Additionally, we use two hidden layers to extract a more abstracted form of the input. Additionally, because neutral sentiment is much broader in scope and has fewer training examples, resulting in covariate shift, we compute a threshold for classifying positive and negative sentiment using the formula min=avg(sim)+*(sim), where is standard deviation and is a constant, which we set to 0.2. If a given test sentence does not have positive or negative outputs that exceed this threshold, the sentence is classified as neutral even if neutral is not the maximal output. We experimented with two semi-supervised learning configurations, Self-  

 Results and Discussion Inter-annotator agreement (IAA) was substantial on the first corpus (Scott's Pi=0.691, Cohen's Kappa=0.693) and higher on the second (Pi=0.768, Kappa=0.768)  (Fleiss, 1971; Davies and Fleiss, 1982) . This is expected as the first corpus contains many sentences involving multiple readmission risk factor domains and annota-tors were instructed to provide clinical sentiment labels for each, whereas the second corpus consists entirely of single domain sentences. In both cases, IAA surpasses that reported by  Denecke and Deng (2016) , primarily because of the clinical expertise of the annotators involved in this project. Results of the three classifiers are shown in Table  3 , with the highest score on each performance metric in bold. The 'All' row for each model configuration was computed by averaging the scores of the sentiment models for each risk factor domain. Applying the Pattern sentiment lexicon to our test corpus showed a strong trend towards underclassification of positive and negative examples, which led to poor recall scores while maintaining moderate precision. Neutral examples, however, were correctly classified significantly more often. This confirms that many of the most informative words in terms of clinical sentiment (e.g.  'hallucination', 'depressed', 'employed', etc.)  do not hold significance in generaldomain sentiment and are therefore not part of the Pattern lexicon. Despite the relatively small size of the training corpus, the EHR data used for training captured much of the domain-specific vocabulary related to clinical sentiment and our suite of models achieved F-measures on classifying positive and negative sentiment that exceed those reported in prior literature  (Deng et al., 2014) . Although direct comparison between our EHR dataset and the EHR datasets used by other researchers is limited due to HIPAA restrictions, our training EHR data is sourced from the same EHR database as  McCoy (2015) . Therefore, a better performance of our models indirectly supports that our model can better capture the underlying clinical sentiment embedded in EHRs. Because clinical documents are written for a specific purpose such as assessing the outcome of treatment, they contain less neutral content and as a result sentiment distributions are intrinsically biased to either positive or negative polarity. Thus, identifying training examples with neutral sentiment was challenging and consequently both the fully and semi-supervised models were poor at identifying neutral sentiment across all seven domains. In addition, unless the patient is markedly improved, clinicians tend to document continuing unresolved symptoms. leading to a greater amount of negative content. We hypothesize that this may be one reason for the lower overall F1 performance on positive versus negative sentiment. We observed that per-domain performance of our models aligned with the natural distribution of positive vs. negative clinical sentiment in EHRs. Substance use, for example, had low positive F1 scores as the majority of references to substance use in EHRs involve negative sentiment unless the patient is noted to be abstaining from substance use. We also observed that sentiment distribution towards negative polarity is more evident in mood and thought content, which include, for example, delusions, depression, anxiety, and hallucinations. When applying semi-supervised learning methods, we found self-training to marginally improve performance on negative clinical sentiment but the overall F1 score was not better than the fully supervised model due to lower precision. We observed minimal change in performance when using a k-nearest neighbors approach. 

 Conclusion and Future Work We focused in this study on the clinical sentiment associated with readmission for seven risk factor domains identified in prior work by undertaking an annotation project and using the resultant gold standard to train semi-supervised ML algorithms to automatically infer this sentiment. Our results indicate that domain adaptation of sentiment analysis is necessary for aligning with clinician opinions. We intend to improve our clinical sentiment classifier in future work by increasing the size of the annotated training corpus (in particular neutral examples) and by changing the model input to a sequence model as opposed to a full sentence vector representation. We also intend to modify our definition of clinical sentiment to include temporal linking of elements that involve clinical sentiment in an EHR to establish gradients of changes in patient status over time. Finally, we will incorporate our sentiment analysis model in a classifier that predicts inpatient readmission risk. Table 1 : 1 Example EHR sentences reflecting sentiment polarity for each risk factor domain.ple. See Table1for example sentences for each domain.The test dataset is an extension of the corpus used previously to evaluate our risk factor domain topic extraction model and is non-overlapping with the training data, consisting of discharge summaries, admission notes, individual encounter notes, and other clinical notes from 220 patients in the OnTrack TM program at McLean Hospital. OnTrack TM is an outpatient program, focusing on treating adults ages 18 to 30 who are experiencing their first episodes of psychosis. Because we are interested in identifying the clinical sentiment associated with each risk factor domain individually, the test dataset consists of examples that were intentionally selected to be challenging for our model: they are variable in length, wide-ranging in vocabulary, and can involve multiple risk factor domains (e.g. "Work functioning is impaired, but pt has good relationship w/ his girlfriend and is not engaging in substance use.").These corpora are available to other researchers upon request. Table2details the distribution of the training and test data. The imbalance of training examples across the three sentiment classes reflects the natural distribution of sentiment reflected in EHRs, as certain risk factor domains (e.g. substance use) will rarely be reflected in a neutral or Positive Negative Neutral Appearance 290 69 141 Mood 100 322 77 Interpersonal 205 165 130 Substance Use 181 261 58 Occupation 250 143 150 Thought Process 150 266 84 Thought Content 183 253 64 
