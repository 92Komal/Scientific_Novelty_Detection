title
The Challenges of Parsing Chinese with Combinatory Categorial Grammar
abstract
We apply Combinatory Categorial Grammar to wide -coverage parsing in Chinese with the new Chinese CCGbank , bringing a formalism capable of transparently recovering non-local dependencies to a language in which they are particularly frequent .
We train two state- of- the - art English ? parsers : the parser of Petrov and Klein ( P&K ) , and the Clark and Curran ( C&C ) parser , uncovering a surprising performance gap between them not observed in English - 72.73 ( P&K ) and 67.09 ( C&C ) F - score on ?
6 . We explore the challenges of Chinese ? parsing through three novel ideas : developing corpus variants rather than treating the corpus as fixed ; controlling noun / verb and other ?
ambiguities ; and quantifying the impact of constructions like pro-drop .
Introduction Automatic corpus conversions from the Penn Treebank ( Marcus et al. , 1994 ) have driven research in lexicalised grammar formalisms , such as ? ( Xia , 1999 ) , ?
( Miyao et al. , 2004 ) and ?
( Hockenmaier and Steedman , 2007 ) , producing the lexical resources key to wide -coverage statistical parsing .
The Chinese Penn Treebank ( ? ; Xue et al. , 2005 ) has filled a comparable niche , enabling the development of a Chinese ?
( Xia et al. , 2000 ) , a wide-coverage ? parser ( Yu et al. , 2011 ) , and recently Chinese CCGbank ( Tse and Curran , 2010 ) , a 750 000 - word corpus of Combinatory Categorial Grammar ( ? ; Steedman , 2000 ) derivations .
We train two ? parsers , Clark and Curran ( C&C ; , and the Petrov and Klein ( P&K ; ? parser , on Chinese CCGbank .
We follow Fowler and Penn ( 2010 ) , who treat the English CCGbank ( Hockenmaier and Steedman , 2007 ) grammar as a ? and train and evaluate the P&K parser directly on it .
We obtain the first Chinese ? parsing results : F - scores of 72.73 ( P&K ) and 67.09 ( C&C ) on labelled dependencies computed over the ?
6 test set .
While the state- of- the - art in Chinese syntactic parsing has always lagged behind English , this large gap is surprising , given that Fowler and Penn ( 2010 ) found only a small margin separated the two parsers on English CCGbank ( 86.0 versus 85.8 ) .
Levy and Manning ( 2003 ) established that properties of Chinese such as noun / verb ambiguity contribute to the difficulty of Chinese parsing .
We focus on two factors within our control : annotation decisions and parser architecture .
Existing research has varied parsers whilst keeping the corpus fixed .
We vary the corpus whilst keeping the parsers fixed by exploring multiple design choices for particular constructions .
By exploiting the fully automatic CCGbank extraction process , we can immediately implement these choices and assess their impact on parsing performance .
Secondly , we contrast the performance of C&C , with its tagging / parsing pipeline , with P&K , a parser which performs joint tagging and parsing , and establish that P&K is less sensitive to the greater lexical category ambiguity in Chinese CCGbank .
We demonstrate that Chinese ? parsing is very difficult , and propose novel techniques for identifying where the challenges lie .
Background Bikel and Chiang ( 2000 ) developed the first ? parser , demonstrating that Chinese was similar enough to English for techniques such as a Collinsstyle head - driven parser or ? to succeed .
Later ? parsers used Tree Insertion Grammar ( Chiang and Bikel , 2002 ) , ?s ( Levy and Manning , 2003 ) , the Collins models ( Bikel , 2004 ) and transition - based discriminative models ( Wang et al. , 2006 ; Zhang and Clark , 2009 ; Huang et al. , 2009 ) .
These systems also established the relative difficulty of parsing Chinese and English ; while ? scores over 92 % are possible for English ( McClosky et al. , 2006 ) , systems for Chinese have achieved only 87 % ( Zhang and Clark , 2009 ) on the same metric .
Non-local dependencies ( ? s ) are lexical dependencies which hold over unbounded distances .
Guo et al. ( 2007 ) observed that despite the importance of ?s for correct semantic interpretation , and the fact that Chinese syntax generates more ?s than English , few parsers in Chinese are equipped to recover the traces which mark ?s.
For instance , extraction , a common ? type , occurs more frequently in ? sentences ( 38 % ) compared to ? ( 17 % ) .
A more satisfying approach is to use a grammar formalism , such as ?
( Steedman , 2000 ) , which generates them inherently , enabling a unified parsing model over local and non-local dependencies .
This approach is taken in the C&C parser ( Clark and Curran , 2007 ) , which can directly and transparently recover ?s in English ( Rimell et al. , 2009 ) . Chinese CCGbank ( Tse and Curran , 2010 )
We take two state - of - the - art parsers and train them to establish the difficulty of parsing Chinese with ?.
The first is the Clark and Curran ( C&C ; parser , which uses supertagging ( Clark and Curran , 2004 ) , a local , linear - time tagging technique which drastically prunes the space of lexical categories which the polynomial - time parsing algorithm later considers .
The second is the coarse- to -fine parser of Petrov and Klein ( 2007 ) which iteratively refines its grammar by splitting production rules to uncover latent distinctions .
Fowler and Penn ( 2010 ) demonstrate that the English CCGbank grammar is strongly context-free , allowing them to treat it as a ? and train the Petrov and Klein ( 2007 ) parser directly .
Derivational vs. lexical ambiguity
The designer of a CCGbank must frequently choose between derivational and lexical ambiguity ( Hockenmaier , 2003 ; Tse and Curran , 2010 ) .
Derivational ambiguity analyses special constructions through arbitrary label- rewriting phrase structure rules , while lexical ambiguity assigns additional categories to lexical items for when they participate in special constructions .
? because of the form-function distinctionwhen the syntactic form of a constituent does not coincide with its semantic function ( Honnibal , 2010 ) .
For instance , in English , topicalisation causes an NP to appear in clause-initial position , fulfilling the function of a sentential pre-modifier while maintaining the form of an NP .
Figure 2 shows two distinct ?
analyses which yield the same dependency edges .
Derivational ambiguity increases the parser search space , while lexical ambiguity enlarges the tag set , and hence the complexity of the supertagging task .
Three versions of Chinese CCGbank
We extract three versions of Chinese CCGbank to explore the trade- off between lexical and derivational ambiguity , training both parsers on each corpus to determine the impact of the annotation changes .
Our hypothesis is that the scarcity of training data in Chinese means that derivational ambiguity results in better coverage and accuracy , at the cost of increasing time and space requirements of the resulting parser .
The lexical category LC ( localiser )
In the following sentences , the words in bold have often been analysed as belonging to a lexical category localiser ( Chao , 1968 ; Li and Thompson , 1989 ) . ( 1 ) a. ? house ? inside : ?
the inside of the house / inside the house b. ? big ? tree
? beside : ?
( the area ) beside the big tree Localisers , like English prepositions , identify a ( temporal , spatial , etc. ) extent of their complement .
However , the combination Noun + Localiser is ambiguous between noun function ( the inside of the house ) and modifier function ( inside the house ) .
We consider two possibilities to represent localisers in ? , which trade derivational for lexical ambiguity .
In ( 2 - a ) , a direct ?
transfer of the ? analysis , the preposition ? at expects arguments of type LCP .
In ( 2 - b ) , ? at now expects only NP arguments , and the unary promotion LCP ? NP allows LCP - form constituents to function as NPs . ( 2 ) a. ? at ? room ? in :? PP / LCP NP LCP\NP ? LCP ? PP b. ? at ? room ? in :? PP / NP NP LCP\NP ? LCP ? NP ? PP
The analysis in ( 2 - a ) exhibits greater lexical ambiguity , with the lexical item ? at carrying at least two categories , PP / NP and PP / LCP , while ( 2 - b ) trades off derivational for lexical ambiguity : the unary promotion LCP ?
NP becomes necessary , but ? at no longer needs the category PP / LCP .
The base release of Chinese CCGbank , corpus A , like ( 2 - a ) , makes the distinction between categories LCP and NP .
However , in corpus B , we test the impact of applying ( 2 - b ) , in which the unary promotion LCP ?
NP is available .
The bare / non - bare NP distinction
The most frequent unary rule in English CCGbank , occurring in over 91 % of sentences , is the promotion from bare to non-bare nouns : N ? NP .
Hockenmaier ( 2003 ) explains that the rule accounts for the form-function distinction in determiner-less English nouns which nevertheless have definite reference , while preventing certain over-generations ( e.g. * the the car ) .
The N-NP distinction also separates adjectives and noun modifiers ( category N/N ) , from predeterminers ( category NP / NP ) ( Hockenmaier and Steedman , 2005 ) , a distinction also made in Chinese .
While Chinese has strategies to mark definite or indefinite reference , they are not obligatory , and a bare noun is referentially ambiguous , calling into question whether the distinction is justified in ?:
?
The dog / dogs ran away .
The fact that the Chinese determiner is not necessarily a maximal projection of the noun - in other words , the determiner does not ' close off ' a level of NPalso argues against importing the English analysis .
In contrast , the English CCGbank determiner category NP / N reflects the fact that determiners ' close off ' NP - further modification by noun modifiers is blocked after combining with a determiner .
( 4 ) ? Republican Party ? this
? act this action by the Republican Party
To test its impact on Chinese parsing , we create a version of Chinese CCGbank ( corpus C ) which neutralises the distinction .
This eliminates the atomic category N , as well as the promotion rule N ? NP .
Experiments
While a standard split of ?
5 exists , as defined by Zhang and Clark ( 2008 ) , we are not aware of a consistently used split for ?
6 . We present a new split in Table 1 which adds data from the ? broadcast section of ?
6 , maintaining the same train / dev / test set proportions as the ?
5 split .
We train C&C using the hybrid model , the bestperforming model for English , which extracts features from the dependency structure ( Clark and Curran , 2007 ) .
We use ? = ?0.055 , 0.01 , 0.05 , 0.1 ?
during training with a Gaussian smoothing parameter ? = 2.4 ( optimised on the corpus A dev set ) .
We use ? = ?0.15 , 0.075 , 0.03 , 0.01 , 0.005 , 0.001 ?
during parsing , with the maximum number of supercats ( chart entries ) set to 5,000,000 , reflecting the greater supertagging ambiguity of Chinese parsing .
The P&K parser is used " off - the-shelf " and trained with its default parameters , only varying the number of split-merge iterations and enabling the Chinesespecific lexicon features .
The P&K parser involves no explicit ?
tagging step , as the ( super ) tags correspond directly to non-terminals in a ?.
Since the P&K parser plus generate produce dependencies in the same format as C&C , we can use the standard Clark and Curran ( 2007 ) dependencybased evaluation from the ? literature : labelled Fscore ( LF ) over dependency tuples , as used for ? parser evaluation in English .
Critically , this metric is also ?- sensitive .
We also report labelled sentence accuracy ( Lsa ) , the proportion of sentences for which the parser returned all and only the gold standard dependencies .
Supertagger accuracy compares leaf categories against the gold standard ( stag ) .
For C&C , we report on two configurations : ? , evaluated using gold standard ? tags ; and ? , with automatic ? tags provided by the C&C tagger ( Curran and Clark , 2003 ) .
For P&K , we vary the number of split-merge iterations from one to six ( following Fowler and Penn ( 2010 ) , the k-iterations model is called I - k ) .
Because the P&K parser does not use ? tags , the most appropriate comparison is against the ? configuration of C&C. For C&C , we use the average of the logarithm of the chart size ( log C ) as a measure of ambiguity , that is , the number of alternative analyses the parser must choose between .
Following Fowler and Penn ( 2010 ) , we perform two sets of experiments : one evaluated over all sentences in a section , and another evaluated only over sentences for which both parsers successfully parse and generate dependencies .
We define the size of a ? grammar as the number of categories it contains .
The size of a grammar affects the difficulty of the supertagging task ( as the size of a grammar is the size of the supertag set ) .
We also consider the number of categories of each shape , as defined in ventory into shapes demonstrates how changes to the corpus annotation affect the distribution of types of category .
Finally , we calculate the average number of tags per lexical item ( Avg. Tags / Word ) , as a metric of the degree of lexical ambiguity in each corpus .
Results
Table 3 shows the performance of P&K and C&C on the three dev sets , and Supertagging and parsing accuracy are not entirely correlated between the parsers - in corpora A and B , ? supertagging is comparable or better than I - 3 , but F - score is substantially worse .
Comparing A and B in Table 3 , C&C receives small increases in supertagger accuracy and coverage , but parsing performance remains largely unchanged ; P&K performance degrades slightly .
On both parsers , C yields the best results out of the three corpora , with LF gains of 1.07 ( P&K ) , 1.28 ( ? ) and 0.63 ( ? ) over the base Chinese CCGbank .
We select C for our remaining parser experiments .
Both C&C's ? and ? results show higher coverage than P&K ( a combination of parse failures in P&K itself , and in generate ) .
Since F - score is only computed over successful parses , it is possible that P&K is avoiding harder sentences .
In Table 4 , evaluated only over sentences parsed by both parsers shows that as expected , C&C gains more ( 1.15 % ) than P&K on the common sentences .
Table 5 shows that the behaviour of both parsers on the test section is consistent with the dev section .
Corpus ambiguity
To understand why corpus C is superior for parsing , we compare the ambiguity and sparsity characteristics of the three corpora .
Examining log C , the average log-chart size ( Table 3 ) shows that the corpus B changes ( the addition of the unary rule LCP ? NP ) increase ambiguity , while the additional corpus C changes ( eliminating the N-NP distinction , resulting in the removal of the unary rule N ? NP ) have the net effect of reducing ambiguity .
Table 6 shows that the changes reduce the size of the lexicon , thus reducing the average number of tags each word can potentially receive , and therefore the difficulty of the supertagging task .
This , in part , contributes to the reduced log C values in Table 3 .
While the size of the lexicon is reduced in B , the corresponding log C figure in Table 3 increases slightly , because of the additional unary rule .
Table 7 breaks down the size of each lexicon according to category shape .
Introducing the rule LCP ?
NP reduces the number of V-shaped categories by 10 % , while not substantially affecting the quantity of other category shapes , because the subcategorisation frames which previously referred to LCP are no longer necessary .
Eliminating the N-NP distinction , however , reduces the number of P and M-shaped categories by over 20 % , as the distinction is no longer made between attachment at N and NP .
Error analysis
The well - known noun / verb ambiguity in Chinese ( where , e.g. , ? ' design-build ' is both a verbal compound ' design and build ' and a noun compound ' design and construction ' ) greatly affects parsing accuracy ( Levy and Manning , 2003 ) .
However , little work has quantified the impact of noun / verb ambiguity on parsing , and for that matter , the impact of other frequent confusion types .
which we saw in Table 3 , we perform an experiment where we corrupt the gold ? tags , by gradually reintroducing automatic ?
errors on a cumulative basis , one confusion type at a time .
The notation X ?
Y indicates that the ? tags X and Y are frequently confused with each other by the ? tagger .
For example , VV ?
NN represents the problematic noun / verb ambiguity , allowing the inclusion of noun / verb confusion errors .
Table 8 shows that while the confusion types NR ? NN and JJ ?
NN have no impact on the evaluation , the confusions DEC ? DEG and VV ? NN , introduced one at a time , cause reductions in F - score of 1.50 and 1.75 % respectively .
This is expected ; Chinese CCGbank does not distinguish between noun modifiers ( NN ) and adjectives ( JJ ) .
On the other hand , the critical noun / verb ambiguity , and the confusion between DEC / DEG ( two senses of the particle ? de ) adversely impact F -score .
We performed an experiment with C&C to merge DEC and DEG into a single tag , but found that this increased category ambiguity without improving accuracy .
The VV ?
NN confusion is particularly damaging to the ? labelled dependency evaluation , because verbs generate a large number of dependencies .
While Fowler and Penn ( 2010 ) report a gap of 6.31 % between C&C 's labelled and unlabelled F - score on the development set in English , we observe a gap of 10.35 % for Chinese .
Table 10 breaks down the 8,414 false positives generated by C&C on the dev set , according to whether the head of each dependency was incorrectly ?- tagged and / or supertagged .
The top- left cell shows that despite the correct ? and supertag , C&C makes a large number of pure attachment location errors .
The vast majority of false positives , though , are The sensitivity of C&C to tagging errors , and the higher performance of the P&K parser , which does not directly use ? tags , calls into question whether ?
tagging yields a net gain in a language where distinctions such as the noun / verb ambiguity are often difficult to resolve using local tagging approaches .
The approach of Auli and Lopez ( 2011 ) , which achieves superior results in English ?
parsing with a joint supertagging / parsing model , may be promising in light of the performance difference between P&K and C&C .
Non-local dependencies
Table 9 shows how well the best models of each parser recovered selected local and non-local dependencies .
The slot represented by each row appears in boldface .
While C&C and P&K perform similarly recovering NP - internal structure , the ability of P&K to recover verbal arguments , unbounded long- range dependencies such as subject and object extraction , and bounded long- range dependencies such as control / raising constructions , is superior .
The C&C ? parser appears to be biased towards generating far more of the frequent dependency types , yet does not typically have a higher recall for these dependency types than P&K .
Pro-drop and its impact on ? parsing
One of the most common types of unary rules in Chinese CCGbank , occurring in 36 % of Chinese CCGbank sentences , is the subject pro-drop rule S[dcl ] \NP ? S [ dcl ] , which accounts for the optional absence of the subject pronoun of a verb for pragmatic reasons where the referent can be recovered from the discourse ( Li and Thompson , 1989 ) .
The subject pro-drop rule is problematic in Chinese parsing because its left hand side , S [ dcl ] \NP , is a very common category , and also because several syntactic distinctions in Chinese CCGbank hinge on the difference between S[dcl ] \NP and S [ dcl ] .
The latter point is illustrated by two of the senses of ? de , the Chinese subordinating particle .
Two categories which ? de receives in the grammar are ( NP / NP ) \( S [ dcl ] \NP ) ( introducing a relative clause ) and ( NP / NP ) \S[ dcl ] ( in the construction S de NP ) .
Because subject pro-drop promotes any unsaturated S[ dcl ] \NP to S[dcl ] , whenever the supertagger returns both of the above categories for the lexical item ?
de , the parser must consider two alternative analyses which yield different dependencies : ( 5 ) a. 12 .
This restricted evaluation shows that while we cannot conclude that pro-drop is the causative factor , sentences with pro-drop are much more difficult for both parsers to analyse correctly , although the drops in Fscore and supertagging accuracy are largest for P&K.
Critically , the fact that supertagging performance on these more difficult sentences is reasonably comparable with performance on the full set suggests that the bottleneck is in the parser rather than the supertagger .
One measure of the complexity of prodrop sentences is the substantial increase in the log C value of these sentences .
This suggests that a key to bringing parser performance on Chinese in line with English lies in reining in the ambiguity caused by very productive unary rules such as pro-drop .
Conclusion Using Chinese CCGbank ( Tse and Curran , 2010 )
Table 11 summarises the best performance of parsers on ? and CCGbank , for English and Chinese .
We observe a drop in performance between English and Chinese ? parsers which is much larger than , but consistent with , ? parsers .
To close this gap , future research in Chinese parsing should be informed by quantifying the aspects of Chinese which account most for the deficit .
We start by using corpus conversion to compare different linguistic representation choices , rather than for generating a single immutable resource .
This can also be exploited to develop syntactic corpora parameterised for particular applications .
We found that collapsing categorial distinctions motivated by theory can yield less ambiguous corpora , and hence , more accurate parsers .
We have also taken a novel approach to investigating the impact of noun / verb and other ?
ambiguities on parsing .
The large gap between Chinese C&C and P&K is surprising , given that Fowler and Penn ( 2010 ) found only a small gap for English .
We found that C&C is very sensitive to ?
tagging performance , which leads to its inferior performance given automatically assigned ? tags .
This suggests that joint supertagging / parsing approaches , as performed by P&K , are more suitable for Chinese .
Finally , we have shown that pro-drop is correlated with poor performance on both parsers , suggesting an avenue to closing the Chinese - English parsing gap .
While developing the first wide -coverage Chinese ? parsers , we have shed light on the nature of the Chinese - English parsing gap , and identified new and significant challenges for ? parsing .
Figure 1 1 Figure 1 : 3 types of non-local dependencies in 6 words : " ( As for ) the trapped princess , I rescued ( her ) . "
