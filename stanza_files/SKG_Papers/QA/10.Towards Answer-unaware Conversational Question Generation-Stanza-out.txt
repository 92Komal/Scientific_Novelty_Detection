title
Towards Answer-unaware Conversational Question Generation
abstract
Conversational question generation is a novel area of NLP research which has a range of potential applications .
This paper is first to present a framework for conversational question generation that is unaware of the corresponding answers .
To properly generate a question coherent to the grounding text and the current conversation history , the proposed framework first locates the focus of a question in the text passage , and then identifies the question pattern that leads the sequential generation of the words in a question .
The experiments using the CoQA dataset demonstrate that the quality of generated questions greatly improves if the question foci and the question patterns are correctly identified .
In addition , it was shown that the question foci , even estimated with a reasonable accuracy , could contribute to the quality improvement .
These results established that our research direction may be promising , but at the same time revealed that the identification of question patterns is a challenging issue , and it has to be largely refined to achieve a better quality in the end-to - end automatic question generation .
Introduction Research on question generation has attracted considerable attention from NLP community , and several neural network - based methods have been proposed ( Pan et al. , 2019 ) .
Many of these methods are developed for text - based question answering ( QA ) with stand -alone interactions .
That is , QA pairs is basically independent each other .
Besides , they are generally answer-aware : a question generation system presumes that the corresponding answer to a to -be- generated question is being supplied .
One of the recently emerging directions in QA is conversational QA , in which a series of interrelated QA turns is performed .
Within this trend , Gao et al . ( 2019 ) recently proposed a framework for conversational question generation .
The proposed work is reported effective , but still answeraware , which may prevent the proposed framework to be applied to practical applications such as chatbots and dialogue systems : answers are usually not provided in the usage scenarios .
Being motivated by this situation , the present work is first to propose a framework for answerunaware conversation question generation , by assuming that questions coherent to the target text and the current conversation history can be generated , provided the question focus and the question type are properly identified .
To confirm this assumption , we have developed a deep neural architecture for answer -unaware question generation , which first tries to locate the focus of a question in the grounding text passage , and then identify the question type that leads the sequential generation of the words in a question .
The experiments using the CoQA dataset ( Reddy et al. , 2019 ) demonstrate that the quality of generated questions greatly improves if the question foci and the question patterns are correctly identified .
Besides , it was shown that the question foci can be estimated with a certain degree of accuracy , and the quality of the generated questions referring the question foci are superior to that generated from the whole text passage , suggesting that the proper narrowing down of the source of question is essential .
These results established that our research direction may be promising .
However , it was also proved that it difficult to correctly estimate the question pattern , and the wrongly - identified question patterns severely affect the quality of generated questions .
This result may highlight the necessity of incorporating additional clues , such as entities in the text , and developing a refined model to better consume the enriched input information .
Related Work Given a range of application areas , such as intelligent tutoring systems , dialogue systems and question answering systems , question generation has attracted larger research attention in NLP community .
The major trend in question generation has shifted from template - based generation systems to neural network - based end-to - end methods ( Pan et al. , 2019 ) , which generally employs encoder-decoder models .
Succeeding the pioneering work ( Du et al. , 2017 ) , several proposals Du and Cardie , 2018 ; Yuan et al. , 2017 ; Tang et al. , 2017 ) have been made to chiefly improve the quality of generated questions .
These methods all deal with text - based question answering , which relies on datasets , such as SQuAD ( Rajpurkar et al. , 2018 ) , which was originally developed for the machine reading for question answering ( MRQA ) research .
In the context of the present work , however , it should be noted that the majority of these methods are answer -aware , which means that a generation system requires the corresponding answer to a to -be- generated question is supplied .
Recently , research interests in MRQA have been extended to conversational - style QA , in which a series of inter-related QA turns is performed in the expectation that it would simulate more natural interactions involving a human .
Datasets such as CoQA ( Reddy et al. , 2019 ) and QuAC ( Choi et al. , 2018 ) have been developed to facilitate the relevant research efforts ( Yatskar , 2019 ) .
Given this trend , Gao et al . ( 2019 ) was first to propose a framework for conversational question generation ( CQG ) .
Their proposal has initiated the dedicated field of CQG by particularly considering coreferences and conversion flows , both may be essential elements in conversational QA .
Their proposal , however , remained answeraware , which may somehow restrict its application areas , in particular such as dialogue systems .
Thus answer-unaware conversational question generation first to offered by the present work would be a natural research direction to go .
3 Framework for Conversational Question Generation
Overview Figure 1 overviews our proposed framework for CQG , where the following assumptions are made . ?
A question coherent to the current conversational context can be generated primarily by knowing the current focus of interrogation , even without knowing the pre-defined corresponding answer .
We herein expect that a question focus can be properly estimated as a textual region in the given passage by exploiting conversation history .
?
The quality of a question can be further improved , if the type of a question is identified ahead of time .
We consider that the question pattern that linguistically realizes a question type could be identified by using the estimated question focus .
Problem Formulation
The generation of a conversational question Qi at the current ( i- th ) QA turn is formulated as follows .
Qi = arg max Q i P rob ( Q i |P , H i ) ( 1 ) Here , P denotes the whole text passage provided for the QA session , and H i dictates the current conversation history , which can be formulated as H i = ( ( Q 1 , A 1 ) , ? ? ? , ( Q i?1 , A i?1 ) ) .
Notice that the answer A i corresponding to the to -begenerated question Qi is not included in our problem formulation .
Question Focus Estimation :
We assume that a question focus F i can be located at a textual region in the grounding text passage P , meaning that the answer of a to -be- generated question can be found in this textual region .
Given the conversation history H i , the estimation of a question focus is formulated as a classification problem which identifies the most probable text chunk Pi from the N cdivided passages P = ( P 1 , ? ? ? , P N C ) . Question Pattern Identification :
We expect by additionally knowing the type of a question , such as When , Who , Where , and Did , the quality of a generated question may further improve .
As detailed in the next section , we cast the identification of a question type as the classification from an inventory of question patterns , or as the actual generation of a question - leading linguistic expression .
As discussed in the later section , we experimentally compare these two methods .
We denote a question pattern T i as an element defined in the set of question patterns Question Decoding :
The conversational question generation as formulated in Eq.1 can be further conditioned by incorporating the estimated question focus F i , and the identified question pattern T i .
We employ a conventional encoderdecoder model for this process .
T Q = { T 1 , ? ? ? , T N T }. T Q has been mined , in the present work , from the tar- get dataset .
W ? W ? W E? W ? ?& ? W ? ?& ? ? ? ? Y ? &? ? Y ? ? Y ? ? Y ? ? Y? W? /?
& ? d ? Y ? ? Y ? ? ? ? ?|? ? W? ? ? ? ?
Qi = arg max Q i P rob ( Q i |P , H i , F i , T i ) ( 2 )
Model Description
This section details the components in the proposed framework , which are ( 1 ) Question focus estimation , ( 2 ) Question pattern identification , and ( 3 ) Question decoding .
Let us assume that the current time step is t = i in the following descriptions .
The input to the entire question generation system is the target text passage P and the current conversation history H i .
The passage P is segmented into a sequence of N c chunks ( P 1 , ? ? ? , P N C ) , where the c-th chunk P c = ( w pc 1 , ? ? ? , w pc m ) is a sequence of m word tokens .
Although the conversation history H i at the i-th QA turn is conceptually defined as H i = ( ( Q 1 , A 1 ) , ? ? ? , ( Q i?1 , A i?1 ) ) , we implement it as the sequence of words taken from the question and the answer , separated by a separator : H i = ( ? ? ? , w t q 1 ? ? ? w t q | Q| , sep , w t a 1 , ? ? ? , w t a | A | , ? ? ? ) .
We henceforth abbreviated it as H i = ( w H i 1 ? ? ? w H i n ) .
The question focus F i for the i-th QA turn is estimated as one of the chunks .
It is hence denoted as a sequence of m-word tokens : F i = ( w F 1 , ? ? ? , w F m ) .
The question pattern T i that is identified for a to -be- generated question is chosen from the pre-defined set T Q of linguistic expressions , or generated on - the-fly .
It is formulated as a sequence of l word tokens :
The embedding layer maps each chunk P c in the passage to a vector sequence T i = ( w T i 1 , ? ? ? , w T i l ) .
Question Focus Estimation E pc = ( e pc 1 ? ? ? e pc m ) ? R m?d .
Here e pc i denotes the d-dimensional embedding vector for the i-th word token in E pc .
We employ GloVe ( Pennington et al. , 2014 ) vectors ( d = 300 ) as word embeddings .
Similarly we map a conversation history H i to E H i = ( e H i 1 ? ? ? e H i n ) ? R n?d .
Two contextual layers , one is for passage chunks and the other is for conversation history , are both implemented by using Bi-GRU .
The input to the passage context layer for a chunk P c is the concatenation of E pc and f QF i?1 .
The latter vector f QF i?1 carries important information in the sense that it specifies the question focus at the previous time step ( t = i ? 1 ) .
The elements of f QF i?1 are all one if F i?1 = P c , otherwise they are all zero .
The representation of the current conversation history E H i is also fed into the contextual layer .
The resulting contextual representations H Pc ?
R m?2v and H H i ?
R n?2v are fed into the attention layer .
Here v represents the dimensionality of the hidden layers : v = 128 in our experiments .
The attention layer captures the relative importance of each chunk seeing from the current conversation history as an attentional weight , and hence yields history - augmented contextual representations for the chunks , as formulated below .
Here , W e and W h are trainable parameters .
e f t , j = tanh ( W f e [ h c i t ; h H i j ] ) ( 3 ) ? f t , j = exp( e f t , j ) n k=1 exp( e f t , k ) ( 4 ) c f t = j ?
f t , j h c i j ( 5 ) hc i t = tanh ( W f h [ c f t ; h c i t ] ) ( 6 )
The modeling layer is also realized by employing Bi- GRU , which captures interactions among the history - augmented contextual representations .
That is , we expect that the resulting representation for a chunk M c i ?
R m?2v incorporates relevant information from the conversation history .
The output layer , consists of two linear layers , predicts the most probable chunk index y F i , which means that the designated chunk is estimated as the current question focus F i .
The inputs to this layer is [ M c 1 ; M c 2 , ? ? ? , ; M c N ] ? R ( Ncm ) ? 2 v , which is the concatenation of the chunk representations yielded by the modeling layer .
Question Pattern Identification
The proper identification of a question pattern help improve the quality of a generated question .
We approach this task by either of classification or generation , and experimentally compare them .
Question Pattern Classification
As displayed in Figure 3 , the whole structure of the classification model is similar to that of the question focus estimation model .
This model however only considers the chunk that is estimated as the current question focus .
More specifically , the question focus is represented as [ E F i ; f N E F i ] .
That is , the original representation for question focus E F i is enhanced by the named-entity ( NE ) tag features f N E F i ? R m?18 .
We assign to each word token in F i an NE tag with the BIO format .
We use spaCy 1 as the NE recogniizer , which maintains 18 NE types 2 .
The history - augmented representation of the question focus HF , yielded by the attention and the modeling layers , is then fed into the output layer , and the index of the most probable question pattern y T i ?
R N P is finally obtained , where N P represents the number of pre-defined question patterns .
Question Pattern Generation
As illustrated in Figure 4 , the generation model only differs from the classification model at the output layer : instead of the classification layer , this model naturally employs a conventional encoder-decoder layers for generating a question pattern .
The encoder takes the question focus HF as the input , and encodes its word token sequence by employing Bi-GRU .
The decoder generates the most probable question pattern P i as a sequence of word tokens ( w P i 1 ...w P i l ) , while attending to rele-vant parts in the question focus chunk .
s t = GRU ( w P i t?1 , c t?1 , s t?1 ) ( 7 ) e q t , j = tanh ( W q e s t?1 + U q e h E t?1 ) ( 8 ) ?
q t , j = exp( e q t , j ) n k=1 exp( e q t , k ) ( 9 ) c q t = j ?
q t , j h E t ( 10 ) hq t = tanh ( W q h [ c q t ; h E t ] ) ( 11 ) p( w
P i t |w P i <t , h i ) = sof tmax ( W d hq t ) ( 12 ) 4.3 Question Decoding
The question decoding model also employs a conventional encoder-decoder model with attention .
Its behavior depends on whether a predicted / generated question pattern is employed .
That is , when a question pattern is not used , the input to the encoder is only the representations for a question focus F i .
On the other hand , in the latter case , the input to the encoder is the concatenation of the representation for the predicted / generated question pattern T i = ( w T i 1 , ? ? ? , w T i l ) and the question focus chunk F i = ( w F i 1 , ? ? ? , w F i m ) , delimited by the separator sep .
Experiments
Dataset
The present work relies on the CoQA dataset ( Reddy et al. , 2019 ) in the evaluation as well as the model training , which enables us to compare our results with the most relevant related work ( Gao et al. , 2019 ) .
The dataset collects 8 k text- grounded QA conversations , where 127 k QA pairs are maintained .
An example conversation is given in Figure 6 , where an answers is given in free-text , but its corresponding textual region in the text passage is explicitly annotated as R : rationale .
We identify each of the ground -truth question foci as a region in the passage that overlaps with a rationale given in the dataset .
As exemplified in this example , this dataset exhibits several conversational phenomena , including ellipsis , co-reference by pronouns .
Naturally , a question is posed by reflecting the current conversational situation .
As pointed out by ( Reddy et al. , 2019 ; Yatskar , 2019 ) , the question foci gradually shift through regions in the text passage as the QA session proceeds .
Experimental Settings
Passage chunks :
The target text passage of a QA session is divided into N c chunks of same number of sentences .
Our framework identifies the most probable chunk as a question focus , implying that the division of a passage would affect the identification of a question focus , and hence the final results also .
Thus we compare the experimental results while altering N c among 5 and 10 .
Note that the average length of a rationale in the CoQA dataset is 10.3 words , and only a small portion of them ( < 5 % ) exceed a sentence boundary .
Question patterns :
We defined a question pattern set by collecting N t frequent sentenceleading n-grams from the training portion of the CoQA dataset .
In preliminary experiments , we confirmed that the best results were achieved when we set n = { 1 , 2 , 3 } and N t = 200 .
We thus only report the experimental results with this setting .
Table 1 displays some question patterns and their frequencies .
We train the question pattern identification models by limiting the number of examples to at most 300 to avoid the data imbalance across the patterns .
Pattern Raw count Frequency ( % ) what 32098 29.5 who 15692 14.4 ? ? ? ? ? ? ? ? ? what did 5636 5.19 what did he 1801 1.66 ? ? ? ? ? ? ? ? ? UNKOWN 2898 2.67 Table 1 : Question patterns ( n = { 1 , 2 , 3 } , N = 200 ) .
Comparing baselines :
Two baseline question generation systems are employed .
? NQG ( Du et al. , 2017 ) is used to assess the efficacy of question focus prediction and question pattern identification .
We consider the whole passage as a single chunk when using this system .
This means that a question focus is not narrowed down to some textual regiosn , rather it spreads to the whole passage .
? CFNet ( Gao et al. , 2019 ) , the only known CQG system , is adopted to chiefly evaluate the impact of answer-unawareness .
This system still requires the corresponding answer to be supplied to generate a question , although it may be superior to our system in that it is equipped with explicit mechanisms to deal with coreference and conversation flow .
6 Results and Discussions 6.1 Quality of the Generated Questions
The results shown in Table 2 establish our primary assumption , which states that a question coherent to the current conversational context can be generated primarily by knowing the current focus of interrogation .
As shown in the table , the qualities of generated questions ( as measured by BLEU 1 - 4 ) , when a question focus is estimated ( N c > 1 ) , were better than that from the case where the whole text passage was simply considered as a question focus ( N c = 1 ) .
These results indeed dictate that the notion of question focus is effective .
The table further shows that the qualities of generated questions were slightly better than that from the random choice of a chunk as question focus , suggesting that the incorporation of even an estimated question focus is effective .
The displayed results , on the other hand , shows that the quality of generated questions ( B1 around 34.6 ) is still not suffice by only knowing the question foci , suggesting the necessity of additional information .
Nc B1 B2 B3 B4 Given these discussions , Table 3 displays the qualities of generated questions under several conditions , and it confirms the above mentioned prospect may be probable .
The major outcomes provided in the table are : ( 1 ) the generation quality could be largely improved if the focus and the pattern of the to -be- generated question are correctly identified , and ( 2 ) the current question pattern identification models severely suffer from the low accuracies , even with classification or generation , and they are comparable or only slightly better than the Random baseline , largely affecting the final generation results .
Table 4 presents the comparison with the baseline systems .
It clearly shows that our method with ground -truth question foci and question patterns largely outperformed the comparing systems , suggesting that our primary direction is promising .
On the other hand , as our results with the pre - and CFNet ( Gao et al. , 2019 ) .
Accuracy of Question Focus Estimation Table 5 measures the accuracy of query focus estimation with varying N c .
The accuracy figures presented in the table may be reasonable , if not satisfactory .
The longer chunks achieve apparently higher classification accuracies , but there may be a trade - off between the quality of generated questions .
A bigger textual region may not well constrain the content of a to -be-generated question .
Nc Ave. Chunk Length Accuracy ( % ) 5 120 59.78 10 60 48.17 Table 5 : Accuracy of question focus estimation .
Accuracy of Question Pattern Identification
On the other hand , Table 6 and Table 7 show embarrassingly unsatisfactory results of question pattern identification .
In the tables , P and GT in the Focus column indicate the cases where the predicted question foci and ground - truth are respectively used .
As already discussed , these low per-formances obviously affected the quality of generated questions .
Besides , the accuracies of generated question patterns are almost comparable across the predicted and the ground -truth question foci .
This insists that the identification of question patterns is almost impossible by only relying on the current inputs ( question focus and conversation history ) and / or with the present models .
This turns out that the process of question pattern identification has higher degree of freedom and should be more constrained with additional information such as entities appeared in the text passage .
Generated Question Examples Figure 7 showcases generated examples .
In the top ( good ) example , both of question focus estimation and question pattern identification were correct , leading to the generation of a question that completely matched with the groundtruth question .
The second example exhibits a mixed case .
As the generated question is largely different from the ground - truth question , the BLEU score is quite low .
However the generated question may be acceptable , given the QA conversation situation .
This example suggests that we need to devise a better metrics for properly evaluating conversationally adequate questions .
The third and fourth examples present failed question generation cases .
The former example shows failed question pattern identification and the latter example further exemplifies a fail in question pattern identification .
As a result , the generated questions made no senses to the current question foci .
Conclusions Conversational question generation ( CQG ) is a recently emerging area of NLP research initiated by ( Gao et al. , 2019 ) .
Given a range of potential practical applications , a question coherent to the current QA situation should be generated even without the corresponding answer provided .
This study is first to propose a framework for answer - unaware CQG by assuming that the quality of questions can be improved by knowing the question focus and the question pattern .
That is , the former contributes to choose a question topic ( what - to - ask ) , and the later could lead the proper generation of the words in a question ( howto-ask ) .
The experimental results confirmed that our research direction would be promising , but highlighted that further effort has to be made : in particular , the question pattern identification process should be greatly improved by enhancing the model and its ingredients .
To further push forward this new area of research , it would be necessary to establish a better evaluation metrics that could more adequately reflect the conversational natures of natural QA dialogues .
Figure 1 : 1 Figure 1 : Overview of the proposed framework .
Figure 2 2 Figure 2 models the deep architecture for estimating a question focus , which consists of embedding layer , contextual layers , attention layer , modeling layer , and output layer .
Figure 2 : 2 Figure 2 : Question focus estimation model .
Figure 3 : 3 Figure 3 : Question pattern classification model .
Figure 4 : 4 Figure 4 : Question pattern generation model .
Figure 5 : 5 Figure 5 : Question decoding model .
Figure 6 : 6 Figure 6 : Example of a QA conversation in CoQA ; adopted from ( Reddy et al. , 2019 ) .
Figure 7 : 7 Figure 7 : Good and bad examples of generated questions .
Table 2 : 2 Qualities ( BLEU scores ) of generated questions ( without considering question patterns ) .
1 ( whole passage ) 30.19 12.85 0.32 0.13 5 ( random ) 33.83 16.08 0.59 0.13 5 ( predicted ) 34.64 16.65 0.70 0.18 10 ( predicted ) 34.71 16.68 0.70 0.17 5 ( GT ) 34.19 16.30 0.71 0.21 10 ( GT ) 34.71 16.67 0.73 0.21
Table 4 : 4 Comparison of the qualities ( BLEU scores ) with the baseline systems : NQG Nc Focus Pattern B1 B2 B3 B4 5 P Gen 24.15 9.80 0.14 0.02 5 P Class 27.62 13.67 0.13 0.04 5 P Random 27.35 13.70 0.17 0.03 10 P Gen 32.36 16.06 0.37 0.04 10 P Class 26.87 13.00 0.16 0.04 10 P Random 28.45 14.43 0.20 0.04 5 GT GT 56.22 38.84 18.69 7.10 10 GT GT 53.05 34.17 14.23 5.25
Table 3 : Qualities ( BLEU scores ) of generated ques - tions .
P and GT in Focus column respectively indicate predicted and ground -truth foci .
Gen and Class in Pat - tern column are generated and classified .
dicted question foci and question patterns were worse than that with the comparing systems , in - sisting that the current deficiency of our methods for question focus estimation and question pattern identification is obvious .
model B1 B2 B3 B4 NQG ( GT ) 33.3 16.1 0.85 0.22 CFNet 37.38 22.81 16.25 - Ours ( P ) 27.62 13.67 0.13 0.04 Ours ( GT ) 56.22 38.84 18.69 7.10
Table 6 : 6 Accuracy of question pattern classification .
Nc Focus B1 B2 B3 5 P 20.00 3.39 0.000 10 P 18.68 3.47 0.14 5 GT 17.38 3.26 0.11 10 GT 18.28 3.79 0.17
Table 7 : 7 Accuracy ( BLEU scores ) of question pattern generation .
https://spacy.io 2 https://spacy.io/api/annotation# named -entities .
